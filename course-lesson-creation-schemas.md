# –°—Ö–µ–º–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É —Ç–∞ —É—Ä–æ–∫—É

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ñ —Å—Ö–µ–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–∏—Ö —Ç–∞ –≤–∫–ª–∞–¥–µ–Ω–Ω–æ—Å—Ç—ñ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤ —Ç–∞ —É—Ä–æ–∫—ñ–≤ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ –Ω–∞–≤—á–∞–Ω–Ω—è —á–µ—Ä–µ–∑ MCP (Model Context Protocol) –∑ API —Ç–æ–∫–µ–Ω–∞–º–∏.

## üìö –°—Ö–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ö—É—Ä—Å—É

### JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É:

```json
{
  "title": "–ù–∞–∑–≤–∞ –∫—É—Ä—Å—É",
  "description": "–û–ø–∏—Å –∫—É—Ä—Å—É",
  "image": "–®–ª—è—Ö –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—É—Ä—Å–∞",
  "videos": ["video_url_1", "video_url_2"],
  "professions": ["–ø—Ä–æ—Ñ–µ—Å—ñ—è_1_id", "–ø—Ä–æ—Ñ–µ—Å—ñ—è_2_id"], // –∞–±–æ [] –ø—É—Å—Ç–∏–π –º–∞—Å–∏–≤
  "difficulty": "beginner|intermediate|advanced",
  "isDraft": true|false,
  "modules": []
}
```

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è:

- ‚úÖ `title` - –Ω–∞–∑–≤–∞ –∫—É—Ä—Å—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è slug)
- ‚úÖ `description` - –æ–ø–∏—Å –∫—É—Ä—Å—É
- ‚úÖ `difficulty` - —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–ª—è:

- üé• `videos` - –º–∞—Å–∏–≤ URL –≤—ñ–¥–µ–æ —Ñ–∞–π–ª—ñ–≤ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- üñºÔ∏è `image` - —à–ª—è—Ö –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—É—Ä—Å—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ)
- üëî `professions` - –º–∞—Å–∏–≤ ID –ø—Ä–æ—Ñ–µ—Å—ñ–π –∑ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—É (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–∞ –ø—É—Å—Ç–∏–π –º–∞—Å–∏–≤)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é–≤–∞–Ω—ñ –ø–æ–ª—è:

- ‚è±Ô∏è `duration` - —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∫—É—Ä—Å—É –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è)
- üìÖ `createdAt` - –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- üìÖ `updatedAt` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- ‚≠ê `rating` - —Ä–µ–π—Ç–∏–Ω–≥ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 0)
- üë• `enrolledStudents` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å–∞–Ω–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤
- üîó `slug` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π URL-—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä

## üèóÔ∏è –°—Ö–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ú–æ–¥—É–ª—è

### JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è:

```json
{
  "title": "–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è",
  "content": "HTML –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥—É–ª—è",
  "description": "–û–ø–∏—Å –º–æ–¥—É–ª—è",
  "lessons": [],
  "tests": [],
  "courses": ["course_id_1", "course_id_2"],
  "isDraft": true|false
}
```

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è:

- ‚úÖ `title` - –Ω–∞–∑–≤–∞ –º–æ–¥—É–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è slug)
- ‚úÖ `content` - HTML –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥—É–ª—è

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–ª—è:

- üìù `description` - –æ–ø–∏—Å –º–æ–¥—É–ª—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- üìö `lessons` - –º–∞—Å–∏–≤ ID —É—Ä–æ–∫—ñ–≤ (–º–æ–∂–Ω–∞ –ø—É—Å—Ç–∏–π –º–∞—Å–∏–≤)
- üß™ `tests` - –º–∞—Å–∏–≤ ID —Ç–µ—Å—Ç—ñ–≤ (–º–æ–∂–Ω–∞ –ø—É—Å—Ç–∏–π –º–∞—Å–∏–≤)
- üìñ `courses` - –º–∞—Å–∏–≤ ID –∫—É—Ä—Å—ñ–≤ (–º–æ–∂–Ω–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —á–µ—Ä–µ–∑ API)
- ‚≠ê `isDraft` - —Å—Ç–∞—Ç—É—Å —á–µ—Ä–Ω–µ—Ç–∫–∏ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º true)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é–≤–∞–Ω—ñ –ø–æ–ª—è:

- üîó `slug` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π URL-—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∑ –Ω–∞–∑–≤–∏)
- üìÖ `createdAt` - –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- üìÖ `updatedAt` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å –≤ –∫—É—Ä—Å—ñ:

```javascript
// –£ –º–æ–¥–µ–ª—ñ Course –º–æ–¥—É–ª—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —è–∫ –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ –∑ –ø–æ—Ä—è–¥–∫–æ–º:
{
  "modules": [
    {
      "module": "ObjectId –º–æ–¥—É–ª—è",  // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—é –∫–æ–ª–µ–∫—Ü—ñ—é
      "order": 0                   // –ü–æ—Ä—è–¥–æ–∫ —É –∫—É—Ä—Å—ñ
    }
  ]
}
```

## üìñ –°—Ö–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –£—Ä–æ–∫—É

### JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —É—Ä–æ–∫—É:

```json
{
  "title": "–ù–∞–∑–≤–∞ —É—Ä–æ–∫—É",
  "content": "–ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫—É (HTML/Markdown)",
  "duration": 45,
  "type": "text|video|interactive",
  "contentType": "standard|labyrinth|flippingCards|mixed|memoryGame|tagCloud|rolePlayGame|textReconstruction|presentation|fullHtml|htmlBlock|video",
  "contentBlocks": [],
  "videoUrl": "URL –≤—ñ–¥–µ–æ (–¥–ª—è video —Ç–∏–ø—É)",
  "resources": [],
  "practiceExercises": [],
  // instructor –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –∑ —Ç–æ–∫–µ–Ω–∞ –∞–±–æ –º–æ–∂–µ –±—É—Ç–∏ –æ–ø—É—â–µ–Ω–æ
  "isDraft": true|false
}
```

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è —É—Ä–æ–∫—É:

| –ü–æ–ª–µ                | –¢–∏–ø      | –û–±–æ–≤'—è–∑–∫–æ–≤–µ   | –í–∞–ª—ñ–¥–∞—Ü—ñ—è                      | –ü–æ—è—Å–Ω–µ–Ω–Ω—è                                 |
| ------------------- | -------- | ------------- | ------------------------------ | ----------------------------------------- |
| `title`             | String   | ‚úÖ            | trim(), –Ω–µ –ø—É—Å—Ç–∏–π              | –ù–∞–∑–≤–∞ —É—Ä–æ–∫—É                               |
| `content`           | String   | Conditional\* | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ contentType       | –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç                          |
| `duration`          | Number   | ‚ùå            | –•–≤–∏–ª–∏–Ω–∏, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 0    | –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É                 |
| `type`              | String   | ‚ùå            | enum: text, video, interactive | –¢–∏–ø —É—Ä–æ–∫—É                                 |
| `contentType`       | String   | ‚ùå            | enum: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ç–∏–ø–∏          | –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç—É                              |
| `contentBlocks`     | Array    | Conditional\* | –î–ª—è mixed —Ç–∏–ø—É                 | –ë–ª–æ–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É                            |
| `videoUrl`          | String   | ‚ùå            | URL –≤—ñ–¥–µ–æ                      | –î–ª—è –≤—ñ–¥–µ–æ —É—Ä–æ–∫—ñ–≤                          |
| `resources`         | Array    | ‚ùå            | –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏              | –û–±'—î–∫—Ç–∏ –∑ title, type, description, url   |
| `practiceExercises` | Array    | ‚ùå            | –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è             | –û–±'—î–∫—Ç–∏ –∑ title, description, codeSnippet |
| `instructor`        | ObjectId | ‚ùå            | –ê–≤—Ç–æ—Ä —É—Ä–æ–∫—É                    | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –∑ —Ç–æ–∫–µ–Ω–∞         |
| `isDraft`           | Boolean  | ‚ùå            | –°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó              | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º true                     |

\*`content` –æ–±–æ–≤'—è–∑–∫–æ–≤–µ, –∫—Ä—ñ–º –≤–∏–ø–∞–¥–∫—ñ–≤ –∫–æ–ª–∏ `contentType = 'mixed'` —ñ —ñ—Å–Ω—É—é—Ç—å `contentBlocks` \*`contentBlocks` –æ–±–æ–≤'—è–∑–∫–æ–≤–µ, –∫–æ–ª–∏ `contentType = 'mixed'`

## üîß –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Ç–∏–ø–∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É

### ContentBlocks - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞ —Ç–∏–ø–∞–º–∏:

#### FlippingCards:

```json
{
  "type": "flippingCards",
  "content": "[
    {
      \"front\": {
        \"title\": \"–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–µ–¥–Ω—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏\",
        \"content\": \"–ö–æ–Ω—Ç–µ–Ω—Ç –ø–µ—Ä–µ–¥–Ω—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏\"
      },
      \"back\": {
        \"title\": \"–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏\",
        \"content\": \"–ö–æ–Ω—Ç–µ–Ω—Ç –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏\"
      }
    }
  ]"
}
```

#### Labyrinth:

```json
{
  "type": "labyrinth",
  "content": "{
    \"startNode\": \"–ø–æ—á–∞—Ç–∫–æ–≤–∞_–Ω–æ–¥–∞\",
    \"nodes\": [
      {\"id\": \"–Ω–æ–¥–∞_1\", \"content\": \"–∫–æ–Ω—Ç–µ–Ω—Ç\", \"choices\": []}
    ]
  }"
}
```

#### Video:

```json
{
  "type": "video",
  "content": "{
    \"videoUrl\": \"https://example.com/video.mp4\"
  }"
}
```

#### Mixed Content:

```json
{
  "contentType": "mixed",
  "contentBlocks": [
    {
      "type": "standard",
      "content": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –±–ª–æ–∫",
      "order": 1
    },
    {
      "type": "flippingCards",
      "content": "[\"JSON –∑ –∫–∞—Ä—Ç–∫–∞–º–∏\"]",
      "order": 2
    }
  ]
}
```

## üèõÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∫–ª–∞–¥–µ–Ω–Ω—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

### –ö—É—Ä—Å ‚Üí –ú–æ–¥—É–ª—ñ ‚Üí –£—Ä–æ–∫–∏/–¢–µ—Å—Ç–∏:

```
Course (–ö–æ–ª–µ–∫—Ü—ñ—è)
‚îú‚îÄ‚îÄ _id: ObjectId
‚îú‚îÄ‚îÄ title: String
‚îú‚îÄ‚îÄ description: String
‚îú‚îÄ‚îÄ modules: [
‚îÇ   ‚îú‚îÄ‚îÄ module: ObjectId -> Module._id
‚îÇ   ‚îî‚îÄ‚îÄ order: Number
‚îÇ   ]
‚îî‚îÄ‚îÄ ... —ñ–Ω—à—ñ –ø–æ–ª—è Course

Module (–ö–æ–ª–µ–∫—Ü—ñ—è)
‚îú‚îÄ‚îÄ _id: ObjectId
‚îú‚îÄ‚îÄ title: String
‚îú‚îÄ‚îÄ lessons: [
‚îÇ   ‚îî‚îÄ‚îÄ ObjectId -> Lesson._id
‚îÇ   ]
‚îî‚îÄ‚îÄ ... —ñ–Ω—à—ñ –ø–æ–ª—è Module

Lesson (–ö–æ–ª–µ–∫—Ü—ñ—è)
‚îú‚îÄ‚îÄ _id: ObjectId
‚îú‚îÄ‚îÄ title: String
‚îú‚îÄ‚îÄ content: String
‚îú‚îÄ‚îÄ contentType: String
‚îú‚îÄ‚îÄ contentBlocks: [Object]
‚îî‚îÄ‚îÄ ... —ñ–Ω—à—ñ –ø–æ–ª—è Lesson
```

## üöÄ –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤:

```javascript
// –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—é—î–º–æ –≤—Å—ñ —É—Ä–æ–∫–∏
const lessonIds = [];
for (const lessonData of lessons) {
  const lesson = new Lesson(lessonData);
  await lesson.save();
  lessonIds.push(lesson._id);
}
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è:

```javascript
// –ü–æ—Ç—ñ–º —Å—Ç–≤–æ—Ä—é—î–º–æ –º–æ–¥—É–ª—å –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ —É—Ä–æ–∫–∏
const module = new Module({
  title: "–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è",
  lessons: lessonIds, // –ú–∞—Å–∏–≤–∞ ID —É—Ä–æ–∫—ñ–≤
  // ... —ñ–Ω—à—ñ –ø–æ–ª—è
});
await module.save();
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É:

```javascript
// –ù–∞—Ä–µ—à—Ç—ñ –¥–æ–¥–∞—î–º–æ –º–æ–¥—É–ª—å –¥–æ –∫—É—Ä—Å—É
const course = new Course({
  title: "–ù–∞–∑–≤–∞ –∫—É—Ä—Å—É",
  modules: [
    {
      module: module._id,
      order: 0,
    },
  ],
  // ... —ñ–Ω—à—ñ –ø–æ–ª—è
});
await course.save();

// –î–æ–¥–∞—é –∫—É—Ä—Å–∏ –¥–æ –º–æ–¥—É–ª—è (–∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫)
module.courses.push(course._id);
await module.save();
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

1. **–ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π**: –°–ø–æ—á–∞—Ç–∫—É —É—Ä–æ–∫–∏ ‚Üí –ø–æ—Ç—ñ–º –º–æ–¥—É–ª—ñ ‚Üí –Ω–∞—Ä–µ—à—Ç—ñ –∫—É—Ä—Å–∏
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π slug**: –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∑ –Ω–∞–∑–≤–∏ –∑ —Ç—Ä–∞–Ω—Å–ª—ñ—Ç–µ—Ä–∞—Ü—ñ—î—é
3. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É**: –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –±–ª–æ–∫—ñ–≤ –º–∞—é—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
4. **–ó–≤–æ—Ä–æ—Ç–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è**: –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –º–æ–¥—É–ª—è –¥–æ –∫—É—Ä—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–æ–ª–µ `courses` –≤ –º–æ–¥—É–ª—ñ
5. **–î—Ä–∞—Ñ—Ç —Å—Ç–∞—Ç—É—Å**: –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤—Å—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —è–∫ —á–µ—Ä–Ω–µ—Ç–∫–∏ (`isDraft: true`)

## üîó –î—ñ–∞–≥—Ä–∞–º–∞ –∑–≤'—è–∑–∫—ñ–≤

```mermaid
graph TD
    A[Course] --> B[Module]
    B --> C[Lesson]
    B --> D[Test]
    B --> E[Achievement]
    C --> F[ContentBlocks]
    C --> G[Resources]
    C --> H[PracticeExercises]

    I[User] -.-> A
    I -.-> B
    I -.-> C
```

---

## üîê API —Ç–æ–∫–µ–Ω–∏ —Ç–∞ MCP —Å—Ö–µ–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API —Ç–æ–∫–µ–Ω–∞:

```json
{
  "token": "—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π-uuid-—Ç–æ–∫–µ–Ω",
  "name": "–ù–∞–∑–≤–∞ —Ç–æ–∫–µ–Ω–∞",
  "description": "–û–ø–∏—Å —Ç–æ–∫–µ–Ω–∞",
  "permissions": ["course:save", "lesson:save"],
  "createdBy": "ObjectId –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞",
  "isActive": true,
  "createdAt": "–¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è",
  "lastUsedAt": "–¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è"
}
```

### –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω—é–≤–∞–Ω—ñ –ø–æ–ª—è –¥–ª—è MCP API:

–í—Å—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ, —Å—Ç–≤–æ—Ä–µ–Ω—ñ —á–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å:

```json
{
  "updatedViaApi": true,
  "lastApiUpdate": "datetime",
  "apiTokenId": "ObjectId —Ç–æ–∫–µ–Ω–∞"
}
```

## üåê MCP API –µ–Ω–¥–ø–æ–π–Ω—Ç–∏

### –ö—É—Ä—Å–∏ —á–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω:

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:

```
Header: X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω-uuid
–∞–±–æ
Header: Authorization: Bearer –≤–∞—à-—Ç–æ–∫–µ–Ω-uuid
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É:

```
POST /api-token/courses
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{
  "title": "–ù–∞–∑–≤–∞ –∫—É—Ä—Å—É",
  "description": "–û–ø–∏—Å –∫—É—Ä—Å—É",
  "difficulty": "beginner|intermediate|advanced",
  "videos": ["url1", "url2"],
  "professions": ["prof_id1", "prof_id2"],
  "image": "path/to/image.jpg",
  "isDraft": false,
  "modules": [
    {
      "id": "module_id_1",
      "order": 0
    },
    {
      "id": "module_id_2",
      "order": 1
    }
  ]
}
```

#### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—É—Ä—Å—É:

```
PUT /api-token/courses/:courseId
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{
  "_id": "courseId",
  "title": "–û–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–∑–≤–∞ –∫—É—Ä—Å—É",
  "description": "–û–Ω–æ–≤–ª–µ–Ω–∏–π –æ–ø–∏—Å –∫—É—Ä—Å—É",
  "difficulty": "intermediate",
  "modules": [
    {
      "id": "module_id_1",
      "order": 0
    }
  ]
}
```

#### –ü–∞–∫–µ—Ç–Ω–∏–π —ñ–º–ø–æ—Ä—Ç –∫—É—Ä—Å—ñ–≤:

```
POST /api-token/courses/batch
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

[
  { "title": "–ö—É—Ä—Å 1", ... },
  { "title": "–ö—É—Ä—Å 2", ... }
]
```

### –ú–æ–¥—É–ª—ñ —á–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω:

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è:

```
POST /api-token/modules
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{
  "title": "–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è",
  "content": "HTML –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥—É–ª—è",
  "description": "–û–ø–∏—Å –º–æ–¥—É–ª—è",
  "lessons": ["lesson_id_1", "lesson_id_2"],
  "tests": ["test_id_1", "test_id_2"],
  "courses": ["course_id_1", "course_id_2"],
  "isDraft": false
}
```

#### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥—É–ª—è:

```
PUT /api-token/modules/:moduleId
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{ —Ç—ñ —Å–∞–º—ñ –ø–æ–ª—è —â–æ –π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è + "_id": "moduleId" }
```

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤:

```
GET /api-token/modules?page=1&limit=20&search=keyword&courseId=course_id&isDraft=false
```

### –£—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω:

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —É—Ä–æ–∫—É:

```
POST /api-token/lessons
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{
  "title": "–ù–∞–∑–≤–∞ —É—Ä–æ–∫—É",
  "content": "–ö–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫—É",
  "duration": 30,
  "type": "text",
  "contentType": "standard",
  "videoUrl": "https://...",
  "resources": [],
  "practiceExercises": [],
  "isDraft": false
}
```

#### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —É—Ä–æ–∫—É:

```
PUT /api-token/lessons/:lessonId
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{ —Ç—ñ —Å–∞–º—ñ –ø–æ–ª—è —â–æ –π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è + "_id": "lessonId" }
```

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è —É—Ä–æ–∫—ñ–≤:

```
GET /api-token/lessons?page=1&limit=20&search=keyword&type=text&contentType=standard
```

### –¢–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω:

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç—É:

```
POST /api-token/tests
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{
  "title": "–ù–∞–∑–≤–∞ —Ç–µ—Å—Ç—É",
  "description": "–û–ø–∏—Å —Ç–µ—Å—Ç—É",
  "module": "module_id",
  "courseId": "course_id",
  "passingScore": 70,
  "questions": [
    {
      "question": "–ü–∏—Ç–∞–Ω–Ω—è —Ç–µ—Å—Ç—É",
      "options": ["–í–∞—Ä—ñ–∞–Ω—Ç 1", "–í–∞—Ä—ñ–∞–Ω—Ç 2", "–í–∞—Ä—ñ–∞–Ω—Ç 3"],
      "correctAnswer": 0
    }
  ],
  "timeLimit": 30
}
```

#### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç—É:

```
PUT /api-token/tests/:testId
Content-Type: application/json
X-API-Token: –≤–∞—à-—Ç–æ–∫–µ–Ω

{ —Ç—ñ —Å–∞–º—ñ –ø–æ–ª—è —â–æ –π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è + "_id": "testId" }
```

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤:

```
GET /api-token/tests?page=1&limit=20&moduleId=module_id&courseId=course_id&passingScore=70
```

## üìã –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ MCP API

| –ê—Å–ø–µ–∫—Ç             | MCP API                       |
| ------------------ | ----------------------------- |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**    | API —Ç–æ–∫–µ–Ω                     |
| **–û–±–º–µ–∂–µ–Ω–Ω—è**      | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ —Ç–æ–∫–µ–Ω–∞         |
| **–ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è** | `instructor` –º–æ–∂–µ –±—É—Ç–∏ –ø—É—Å—Ç–∏–º |
| **–°—Ç–∞—Ç—É—Å**         | –ö–æ–Ω—Ç—Ä–æ–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ API       |
| **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è**    | API –º–µ—Ç–∞–¥–∞–Ω–Ω—ñ                 |

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ MCP API

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–ª—è**: –í—Å—ñ –∑–∞–ø–∏—Å–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å `updatedViaApi: true` —Ç–∞ `apiTokenId`
2. **–û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è**: –ß–µ—Ä–µ–∑ API —Ç–æ–∫–µ–Ω –ø–æ–ª—è `instructor` —Ç–∞ `author` —Å—Ç–∞—é—Ç—å –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º–∏
3. **Batch –æ–ø–µ—Ä–∞—Ü—ñ—ó**: –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø–∞–∫–µ—Ç–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `/batch` –µ–Ω–¥–ø–æ–π–Ω—Ç–∏
4. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É**: –¢–æ–∫–µ–Ω –º–æ–∂–µ –º–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω—ñ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É —á–µ—Ä–µ–∑ –ø–æ–ª–µ `permissions`
5. **–ü—Ä–æ—Ñ–µ—Å—ñ—ó**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è –∑ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –ø–æ ID
6. **–ú–æ–¥—É–ª—ñ –≤ –∫—É—Ä—Å–∞—Ö**: –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫—É—Ä—Å—É –º–æ–¥—É–ª—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —è–∫ –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ –∑ `id` —Ç–∞ `order`
7. **–î–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ –∑–≤'—è–∑–∫–∏**: –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –º–æ–¥—É–ª—è –¥–æ –∫—É—Ä—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–æ–ª–µ `courses` –≤ –º–æ–¥—É–ª—ñ
8. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤**: `passingScore` –º–∞—î –±—É—Ç–∏ –≤—ñ–¥ 0 –¥–æ 100, `module` —Ç–∞ `courseId` –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ
9. **–ü–æ—à—É–∫ –ø–æ slug**: –ú–æ–¥—É–ª—ñ –º–æ–∂–Ω–∞ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —è–∫ –ø–æ ID, —Ç–∞–∫ —ñ –ø–æ slug
10. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è**: –í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è –∑ –º–µ—Ç–∞–¥–∞–Ω–∏–º–∏ API —Ç–æ–∫–µ–Ω–∞

---

_–î–æ–∫—É–º–µ–Ω—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ: –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –º–æ–¥–µ–ª—è–º —Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞–º API —Ç–æ–∫–µ–Ω—ñ–≤_
